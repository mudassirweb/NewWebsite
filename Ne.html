<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>3D Bouncing Mudassir - Yellow Extrusion</title>

  <style>
    :root { --bg: #000; }
    html, body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      overflow: hidden;
    }

    body {
      font-family: 'Rig Bold Face', sans-serif;
      user-select: none;
    }

    /* Font imports */
    @font-face {
      font-family:'Rig Bold Coarse'; 
      src:url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/209981/Rig-BoldCoarse.otf');
    }
    @font-face {
      font-family:'Rig Bold Extrude'; 
      src:url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/209981/Rig-BoldExtrude.otf');
    }
    @font-face {
      font-family:'Rig Bold Face'; 
      src:url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/209981/Rig-BoldFace.otf');
    }

    /* Main 3D text */
    #bouncingText {
      position: absolute;
      font-size: 5em;
      text-transform: uppercase;
      text-align: center;
      color: #91d4ff; /* front face - light blue */
      white-space: nowrap;
      pointer-events: none;
      transform: translate3d(0, 0, 0);
    }

    /* 3D extrusion now in YELLOW */
    #bouncingText span {
      position: relative;
      display: inline-block;
      font-family: 'Rig Bold Face', sans-serif;
      color: #91d4ff;
    }

    #bouncingText span::before {
      content: attr(data-heading);
      position: absolute;
      left: 3px;
      top: 3px;
      color: #ffeb3b; /* bright yellow extrusion */
      font-family: 'Rig Bold Extrude', sans-serif;
      z-index: -1;
    }

    #bouncingText span::after {
      content: attr(data-heading);
      position: absolute;
      left: 6px;
      top: 6px;
      color: #bfa000; /* darker yellow for base depth */
      font-family: 'Rig Bold Coarse', sans-serif;
      z-index: -2;
    }
  </style>
</head>

<body>
  <div id="bouncingText" data-heading="Mudassir">
    <span data-heading="Mudassir">Mudassir</span>
  </div>

  <script>
    const text = document.getElementById("bouncingText");
    let dx = 3, dy = 2, x = 0, y = 0;

    function measure() {
      const rect = text.getBoundingClientRect();
      return { w: rect.width, h: rect.height };
    }

    function centerStart() {
      const { w, h } = measure();
      x = Math.round((window.innerWidth - w) / 2);
      y = Math.round((window.innerHeight - h) / 2);
      applyPosition();
    }

    function applyPosition() {
      text.style.left = x + "px";
      text.style.top = y + "px";
    }

    function moveText() {
      const screenWidth = window.innerWidth;
      const screenHeight = window.innerHeight;
      const { w: textWidth, h: textHeight } = measure();

      const nextX = x + dx;
      const nextY = y + dy;

      if (nextX <= 0 || nextX + textWidth >= screenWidth) {
        dx = -dx;
        flashColorOnBounce();
      }
      if (nextY <= 0 || nextY + textHeight >= screenHeight) {
        dy = -dy;
        flashColorOnBounce();
      }

      x += dx;
      y += dy;
      applyPosition();
      requestAnimationFrame(moveText);
    }

    function flashColorOnBounce() {
      const span = text.querySelector("span");
      const randomHue = Math.floor(Math.random() * 360);
      const color = `hsl(${randomHue}, 100%, 60%)`;
      span.style.color = color;
      text.style.color = color;
      text.setAttribute("data-heading", span.innerText);
      span.setAttribute("data-heading", span.innerText);
    }

    window.addEventListener("load", () => {
      centerStart();
      if (Math.random() > 0.5) dx = -dx;
      if (Math.random() > 0.5) dy = -dy;
      requestAnimationFrame(moveText);
    });

    window.addEventListener("resize", centerStart);
  </script>
</body>
</html>
